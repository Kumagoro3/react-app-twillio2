{"ast":null,"code":"import _objectSpread from \"/Users/takumayoshii/send-sms-react-twilio/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _classCallCheck from \"/Users/takumayoshii/send-sms-react-twilio/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/takumayoshii/send-sms-react-twilio/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"/Users/takumayoshii/send-sms-react-twilio/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/Users/takumayoshii/send-sms-react-twilio/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/Users/takumayoshii/send-sms-react-twilio/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/takumayoshii/send-sms-react-twilio/src/SMSForm.js\";\nimport React, { Component } from 'react';\nimport './SMSForm.css';\n\nvar SMSForm = /*#__PURE__*/function (_Component) {\n  _inherits(SMSForm, _Component);\n\n  var _super = _createSuper(SMSForm);\n\n  function SMSForm(props) {\n    var _this;\n\n    _classCallCheck(this, SMSForm);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      message: {\n        to: '',\n        body: ''\n      },\n      submitting: false,\n      error: false\n    };\n    _this.onSubmit = _this.onSubmit.bind(_assertThisInitialized(_this));\n    _this.onHandleChange = _this.onHandleChange.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(SMSForm, [{\n    key: \"onSubmit\",\n    value: function onSubmit(event) {\n      var _this2 = this;\n\n      event.preventDefault();\n      this.setState({\n        submitting: true\n      });\n      fetch('/api/messages', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(this.state.message)\n      }).then(function (res) {\n        return res.json();\n      }).then(function (data) {\n        if (data.success) {\n          _this2.setState({\n            error: false,\n            submitting: false,\n            message: {\n              to: '',\n              body: ''\n            }\n          });\n        } else {\n          _this2.setState({\n            error: true,\n            submitting: false\n          });\n        }\n      });\n    }\n  }, {\n    key: \"onHandleChange\",\n    value: function onHandleChange(event) {\n      var name = event.target.getAttribute('name');\n      this.setState({\n        message: _objectSpread(_objectSpread({}, this.state.message), {}, {\n          [name]: event.target.value\n        })\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: this.onSubmit,\n        className: this.state.error ? 'error sms-form' : 'sms-form',\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"to\",\n            children: \"To:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"tel\",\n            name: \"to\",\n            id: \"to\",\n            value: this.state.message.to,\n            onChange: this.onHandleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"body\",\n            children: \"Body:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            name: \"body\",\n            id: \"body\",\n            value: this.state.message.body,\n            onChange: this.onHandleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          disabled: this.state.submitting,\n          children: \"Send message\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 7\n      }, this);\n    }\n  }]);\n\n  return SMSForm;\n}(Component);\n\nexport default SMSForm;","map":{"version":3,"sources":["/Users/takumayoshii/send-sms-react-twilio/src/SMSForm.js"],"names":["React","Component","SMSForm","props","state","message","to","body","submitting","error","onSubmit","bind","onHandleChange","event","preventDefault","setState","fetch","method","headers","JSON","stringify","then","res","json","data","success","name","target","getAttribute","value"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport './SMSForm.css';\n\nclass SMSForm extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      message: {\n        to: '',\n        body: ''\n      },\n      submitting: false,\n      error: false\n    };\n    this.onSubmit = this.onSubmit.bind(this);\n    this.onHandleChange = this.onHandleChange.bind(this);\n  }\n\n  onSubmit(event) {\n    event.preventDefault();\n    this.setState({ submitting: true });\n    fetch('/api/messages', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(this.state.message)\n    })\n      .then(res => res.json())\n      .then(data => {\n        if (data.success) {\n          this.setState({\n            error: false,\n            submitting: false,\n            message: {\n              to: '',\n              body: ''\n            }\n          });\n        } else {\n          this.setState({\n            error: true,\n            submitting: false\n          });\n        }\n      });\n  }\n\n  onHandleChange(event) {\n    const name = event.target.getAttribute('name');\n    this.setState({\n      message: { ...this.state.message, [name]: event.target.value }\n    });\n  }\n\n  render() {\n    return (\n      <form\n        onSubmit={this.onSubmit}\n        className={this.state.error ? 'error sms-form' : 'sms-form'}\n      >\n        <div>\n          <label htmlFor=\"to\">To:</label>\n          <input\n            type=\"tel\"\n            name=\"to\"\n            id=\"to\"\n            value={this.state.message.to}\n            onChange={this.onHandleChange}\n          />\n        </div>\n        <div>\n          <label htmlFor=\"body\">Body:</label>\n          <textarea\n            name=\"body\"\n            id=\"body\"\n            value={this.state.message.body}\n            onChange={this.onHandleChange}\n          />\n        </div>\n        <button type=\"submit\" disabled={this.state.submitting}>\n          Send message\n        </button>\n      </form>\n    );\n  }\n}\n\nexport default SMSForm;\n"]},"metadata":{},"sourceType":"module"}